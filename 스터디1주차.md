# 스터디 1주차

- zeze 브런치

### 1. JVM이란 무엇인가 + 6. JVM 구성요소

자바프로그램을 한 번만 작성하면 어떤 컴퓨터 기종이던 상관없이 실행이 가능하다. 자바는 플랫폼에 종속되지 않는다. 이는 JVM에 의하여 소스 코드가 컴파일 되기 때문이다.

자바컴파일러는 자바 언어로 작성된 프로그램을 가상 컴퓨터의 기계어가 들어 있는 파일(바이트코드)로 변환한다. 바이트코드를 JVM이 한 줄 씩 읽어 해석한 후 실행한다.

소스코드 -> 컴파일러 -> 바이트코드 -> JVM 순으로 동작

`가비지 컬렉터`: 메모리 관리 자동으로 해줌. 안정적

?ㅅ?

이무슨...

대충 코드,힙,스택, 데이터 영역

모든 스레드가 공유

- Method Area
- Heap: 프로그램을 실행하면서 생성한 모든 객체를 Heap에 저장

스레드마다 존재

- PC 레지스터(프로그램 카운터o):
  - 각 스레드는 메서드를 실행하고 있음
  - PC는 바이트코드 몇 줄을 해석 중인지 저장
- 자바 스택

  - 스레드 별로 1개만 존재
  - 가장 마지막에 쌓이는 메소는 main 메소드
  - main 메소드 실행이 끝나면 스택 프레임은 pop되어 자바 스택에서 제거

- Native Method Stack: 자바 바이트코드가 아닌 다른 언어로 작성된 메서드 저장

[[10분 테코톡] 🎅무민의 JVM Stack & Heap](https://www.youtube.com/watch?v=UzaGOXKVhwU)

[자바 메모리 구조 뿌시기 [ JVM이란? ]](https://www.youtube.com/watch?v=AWXPnMDZ9I0)

## 2. 컴파일하는 방법

### 자바 코드가 실행되기까지

- C/C++은 컴파일한 OS, CPU에 따라 실행파일(.exe)이 해당 OS,CPU 아키텍처에서만 동작하게 된다.

  - 컴파일 크로스가 필요 ex. mac에서 컴파일해도 윈도우에서 작동될 수 있게 컴파일 크로스 해줘야 함

- JAVA의 컴파일을 크게 프론트, 백엔드로 나눌 수 있음

  - compiler fronted: Java Compilier

    자바 소스코드를 바이트코드로 변환(이 때 바이트코드의 확장자는 .class: 클래스 파일)

  - compiler backend: JVM

    OS, CPU 아키텍처에 맞게 실행파일 생성

    1. Class Loader

    ​ 클래스 파일들을 메모리에 적재

    2. ByteCode Verifier

    ​ 적재된 클래스들의 바이트코드가 이상 없는지 검사

## 3. 실행하는 방법 + 5. JIT 컴파일러란 무엇이며 어떻게 동작하는가

- JVM이 바이트 코드 해석하며 프로그램 실행(런타임)

- JVM이 바이트 코드 실행하는 3가지 방법

  - 1. 인터프리터 방식: 바이트 코드를 한 줄씩 해석 ex) 파이썬, 자바스크립트

    2. JIT 컴파일(Just-In-Time-Compilation)??

       - 인터프리트를 하면서 자주 쓰이는 코드를 메모리에 잠시 저장(캐싱)

         같은 함수가 또 선언될 때 저장한 코드를 가져와 쓰는 방식

       - 장점: 긴 코드에서는 인터프리터 방식 보다 빠르다.

       - 단점:

         1. 초기 구동시 인터프리터를 한 번 실행해야한다.

         2. 런 타임 때 메소드를 동적으로 저장해야하므로 보안에 문제가 있을 수 있다.

    3. 하드웨어와 소프트웨어 혼합 구현 방식

## 4. 바이트코드란 무엇인가

자바 소스코드를 바이트코드로 변환(이 때 바이트코드의 확장자는 .class: 클래스 파일)

## 7. JDK와 JRE 차이

- JRE: 자바 프로그램을 실행하기 위한 라이브랄;, 자바 가상 기계, 기타 컴포넌트들을 제공한다. 자바 프로그램을 실행만 할 뿐 개발 하지 않는 일반인들을 위한 환경이다.
- JDK: JRE에 자바 프로그램을 개발하는데 필요한 컴파일러, 디버거와 같은 도구들을 추가한 것이다.
- 요약하자면 JRE에는 JVM, 라이브러리가 있고 JDK는 JRE와 컴파일러, 디버거가 있다.

출처

- https://j4bez.tistory.com/6
- POWER JAVA(저자 천인국)
